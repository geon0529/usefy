@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

.overlay {
  @include fixed-fill;
  @include flex-center;
  padding: $spacing-4;
  @include overlay-backdrop-dark;
  @include animate-fade-in;
}

.modal {
  position: relative;
  width: 100%;
  max-width: 42rem;
  background-color: white;
  border-radius: $radius-xl;
  box-shadow: $shadow-2xl;
  @include animate-slide-up;

  &:focus {
    outline: none;
  }

  :global(.dark) & {
    background-color: $gray-800;
  }
}

// Header
.header {
  @include flex-between;
  padding: $spacing-4 $spacing-6;
  border-bottom: 1px solid $gray-200;

  :global(.dark) & {
    border-color: $gray-700;
  }
}

.title {
  @include text-lg;
  font-weight: $font-weight-semibold;
  color: $gray-900;

  :global(.dark) & {
    color: white;
  }
}

.closeButton {
  @include reset-button;
  padding: $spacing-2;
  border-radius: $radius-full;
  @include transition-colors;

  &:hover {
    background-color: $gray-100;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px $blue-500;
  }

  :global(.dark) & {
    &:hover {
      background-color: $gray-700;
    }
  }
}

.closeIcon {
  width: 1.25rem;
  height: 1.25rem;
  color: $gray-500;

  :global(.dark) & {
    color: $gray-400;
  }
}

// Content
.content {
  padding: $spacing-6;
}

.videoWrapper {
  width: 100%;
  aspect-ratio: 16 / 9;
}

.recordingInfo {
  margin-top: $spacing-4;
  @include text-sm;
  color: $gray-500;
  text-align: center;

  :global(.dark) & {
    color: $gray-400;
  }
}

// Actions
.actions {
  @include flex-center;
  gap: $spacing-3;
  padding: $spacing-4 $spacing-6;
  border-top: 1px solid $gray-200;

  :global(.dark) & {
    border-color: $gray-700;
  }
}

.actionButton {
  @include button-base;
  gap: $spacing-2;
}

.downloadButton {
  @extend .actionButton;
  background-color: $blue-600;
  color: white;

  &:hover:not(:disabled) {
    background-color: $blue-700;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px white, 0 0 0 4px $blue-500;
  }

  :global(.dark) & {
    &:focus {
      box-shadow: 0 0 0 2px $gray-800, 0 0 0 4px $blue-500;
    }
  }
}

.reRecordButton {
  @extend .actionButton;
  background-color: $gray-100;
  color: $gray-700;

  &:hover:not(:disabled) {
    background-color: $gray-200;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px white, 0 0 0 4px $gray-500;
  }

  :global(.dark) & {
    background-color: $gray-700;
    color: $gray-300;

    &:hover:not(:disabled) {
      background-color: $gray-600;
    }

    &:focus {
      box-shadow: 0 0 0 2px $gray-800, 0 0 0 4px $gray-500;
    }
  }
}

.doneButton {
  @extend .actionButton;
  background-color: $green-600;
  color: white;

  &:hover:not(:disabled) {
    background-color: $green-700;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px white, 0 0 0 4px $green-500;
  }

  :global(.dark) & {
    &:focus {
      box-shadow: 0 0 0 2px $gray-800, 0 0 0 4px $green-500;
    }
  }
}

.buttonIcon {
  width: 1rem;
  height: 1rem;
}
